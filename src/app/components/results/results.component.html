<div class="results-container" *ngIf="results.length">
  <ion-list>
    <ion-item *ngFor="let count of siteCounts">
      <ion-label>{{ count.site }}</ion-label>
      <ion-badge slot="end">{{ count.count }}</ion-badge>
    </ion-item>
  </ion-list>

  <div class="results-list">
    <ion-card *ngFor="let result of results; let i = index" class="result-card">
      <ion-card-header>
        <ion-card-title>{{i + 1}}. Post ID: {{result.num || 'N/A'}}</ion-card-title>
        <ion-card-subtitle>
          Board: /{{result.board?.short_name}}/ {{result.board?.name}}
        </ion-card-subtitle>
      </ion-card-header>
      
      <ion-card-content>
        <div class="result-meta">
          <span><strong>Thread Number:</strong> {{result.thread_num || 'N/A'}}</span>
          <span><strong>Timestamp:</strong> {{result.timestamp | date:'medium'}}</span>
        </div>
        <div class="result-comment" [innerHTML]="result.comment || 'No Comment'"></div>
        
        <ion-button *ngIf="result.media?.media_orig"
                    [href]="result.media.media_orig"
                    download
                    fill="clear">
          Download Media
        </ion-button>
      </ion-card-content>
    </ion-card>
  </div>
</div> 